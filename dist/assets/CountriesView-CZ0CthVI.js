import{c as n,a,o as l,_ as V,u as B,b as D,d as c,e as i,r as h,f as A,g as F,h as j,w as S,v as Z,F as g,i as v,j as f,T as $,k as q,l as b,m as z,n as L,p as T,t as m,q as x,s as R}from"./index-DqqNCrIN.js";function U(y,r){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z","clip-rule":"evenodd"})])}const I={class:"p-6 pb-24 md:pb-6"},O={class:"mb-8"},E={class:"text-3xl font-bold mb-6 flex items-center gap-3"},G={class:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center"},P={class:"flex gap-3 w-full max-w-md"},Q={class:"flex items-center bg-[#282828] rounded-full px-4 py-2 border border-transparent hover:border-gray-700 transition-colors"},H=["value"],J={key:0,class:"flex justify-center items-center py-20"},K={key:1},W={class:"w-16 h-12 mb-3 bg-black/20 rounded shadow-sm overflow-hidden flex items-center justify-center relative"},X=["src","alt"],Y={class:"font-medium text-center text-sm mb-1 group-hover:text-primary line-clamp-2"},ee={class:"text-xs text-gray-500"},te={key:2,class:"text-center py-20 text-gray-500"},ae={__name:"CountriesView",setup(y){const r=B(),w=L(),d=b(""),u=b("count_desc"),N=[{label:"Nombre (A-Z)",value:"name_asc"},{label:"Nombre (Z-A)",value:"name_desc"},{label:"Más estaciones",value:"count_desc"},{label:"Menos estaciones",value:"count_asc"}];D(()=>{r.availableCountries.length===0&&r.fetchFilters()});const C=o=>o?`https://flagcdn.com/w80/${o.toLowerCase()}.png`:null,k=()=>{const o=r.availableCountries.filter(t=>t.stationcount>0);if(o.length===0)return;const s=o[Math.floor(Math.random()*o.length)];w.push({name:"country-stations",params:{name:s.name||"uncategorized"},query:{iso:s.iso_3166_1}})},M=new Intl.DisplayNames(["es"],{type:"region"}),p=z(()=>{const o=d.value.toLowerCase();return r.availableCountries.map(t=>{let e=t.name;if(t.iso_3166_1)try{e=M.of(t.iso_3166_1)}catch{}return{...t,displayName:e||"Resto del Mundo",originalName:t.name,hasFlag:!!t.iso_3166_1}}).filter(t=>o&&!t.displayName.toLowerCase().includes(o)?!1:t.stationcount>0).sort((t,e)=>{switch(u.value){case"name_asc":return t.displayName.localeCompare(e.displayName);case"name_desc":return e.displayName.localeCompare(t.displayName);case"count_desc":return e.stationcount-t.stationcount;case"count_asc":return t.stationcount-e.stationcount;default:return 0}})});return(o,s)=>{const t=T("router-link");return l(),n("div",I,[a("header",O,[a("h1",E,[c(i(h),{class:"w-8 h-8 text-primary"}),s[2]||(s[2]=A(" Países ",-1))]),a("div",G,[a("div",P,[c(F,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),placeholder:"Buscar país...",class:"flex-1"},null,8,["modelValue"]),a("button",{onClick:k,class:"bg-white/10 hover:bg-white/20 p-3 rounded-full transition-colors group border border-transparent hover:border-[#1DB954] flex-shrink-0",title:"Descubrir país aleatorio"},[c(i(U),{class:"w-5 h-5 text-[#1DB954] group-hover:scale-110 transition-transform"})])]),a("div",Q,[c(i(j),{class:"w-5 h-5 text-[#1DB954] mr-2"}),S(a("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),class:"bg-transparent text-white text-sm font-bold outline-none cursor-pointer appearance-none"},[(l(),n(g,null,v(N,e=>a("option",{key:e.value,value:e.value,class:"bg-[#282828]"},m(e.label),9,H)),64))],512),[[Z,u.value]])])])]),i(r).loading&&i(r).availableCountries.length===0?(l(),n("div",J,[...s[3]||(s[3]=[a("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"},null,-1)])])):(l(),n("div",K,[c($,{tag:"div",name:"list",class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},{default:f(()=>[(l(!0),n(g,null,v(p.value,(e,_)=>(l(),x(t,{key:e.originalName||"unknown",to:{name:"country-stations",params:{name:e.originalName||"uncategorized"},query:{iso:e.iso_3166_1}},class:"bg-[#181818] rounded-md p-4 flex flex-col items-center hover:bg-[#282828] transition-all duration-300 group cursor-pointer shadow-md hover:shadow-xl hover:scale-105 active:scale-95",style:R({animationDelay:`${Math.min(_,10)*50}ms`})},{default:f(()=>[a("div",W,[e.hasFlag?(l(),n("img",{key:0,src:C(e.iso_3166_1),alt:e.displayName,class:"w-full h-full object-cover",loading:"lazy"},null,8,X)):(l(),x(i(h),{key:1,class:"w-8 h-8 text-gray-600"}))]),a("h3",Y,m(e.displayName),1),a("span",ee,m(e.stationcount)+" estaciones",1)]),_:2},1032,["to","style"]))),128))]),_:1})])),!i(r).loading&&p.value.length===0?(l(),n("div",te," No se encontraron países. ")):q("",!0)])}}},oe=V(ae,[["__scopeId","data-v-08a4742b"]]);export{oe as default};

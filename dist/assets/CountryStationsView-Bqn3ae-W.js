import{c as a,a as o,o as e,_ as w,l as c,x as b,b as S,d as y,e as N,f as v,t as d,j as B,T as C,y as z,z as f,m as E,n as M,F as V,i as j,q as T,A as q,s as A}from"./index-DqqNCrIN.js";function D(h,r){return e(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}const F={class:"p-6 pb-24 md:pb-6"},I={class:"mb-8"},R={class:"text-3xl font-bold mb-2 flex items-center gap-3"},L={class:"text-gray-400"},$={key:0,class:"flex justify-center items-center py-20"},G={key:1,class:"text-center py-20 text-red-500"},P={key:2,class:"text-center py-20 text-gray-500"},H={key:3},J={__name:"CountryStationsView",setup(h){const r=z(),_=M(),t=c(r.params.name),g=E(()=>{if(t.value==="uncategorized")return"Resto del Mundo";if(r.query.iso)try{return new Intl.DisplayNames(["es"],{type:"region"}).of(r.query.iso)}catch{}return t.value}),l=c([]),u=c(!0),i=c(null),m=async()=>{console.log("Fetching stations for:",t.value),u.value=!0,i.value=null;try{t.value==="uncategorized"?(console.log("Searching uncategorized stations"),l.value=await f.searchStations({country:"",limit:100})):(console.log("Calling API for country:",t.value),l.value=await f.getStationsByCountry(t.value,100),console.log("Stations loaded:",l.value.length))}catch(s){console.error("Error fetching stations:",s),i.value="Error al cargar las estaciones."}finally{u.value=!1,console.log("Loading set to false")}};b(()=>r.params.name,s=>{s&&(t.value=s,m())}),S(()=>{m()});const x=()=>{_.back()};return(s,n)=>(e(),a("div",F,[o("header",I,[o("button",{onClick:x,class:"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors text-sm font-medium group"},[y(N(D),{class:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),n[0]||(n[0]=v(" Volver a países ",-1))]),o("h1",R,[n[1]||(n[1]=o("span",{class:"text-primary"},"Estaciones de",-1)),v(" "+d(g.value),1)]),o("p",L,"Explora las mejores radios de "+d(g.value),1)]),u.value?(e(),a("div",$,[...n[2]||(n[2]=[o("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"},null,-1)])])):i.value?(e(),a("div",G,d(i.value),1)):l.value.length===0?(e(),a("div",P," No se encontraron estaciones para este país. ")):(e(),a("div",H,[y(C,{tag:"div",name:"list",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},{default:B(()=>[(e(!0),a(V,null,j(l.value,(p,k)=>(e(),T(q,{key:p.stationuuid,station:p,style:A({animationDelay:`${Math.min(k,10)*50}ms`})},null,8,["station","style"]))),128))]),_:1})]))]))}},O=w(J,[["__scopeId","data-v-4f3b24d2"]]);export{O as default};
